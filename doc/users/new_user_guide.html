<html>
<head>
<title> ABINIT. New user guide</title>
<body bgcolor="#ffffff">
<p>
<h1>ABINIT. New user guide </h1>
<p>&nbsp;</p>
<p><b>This file gives a beginner's introduction to the use of the ABINIT package.</b> 
</p>

<h5>Copyright (C) 1998-2008 ABINIT group (DCA,XG,RC)
<br> This file is distributed under the terms of the GNU General Public License, see
~abinit/COPYING or <a href="http://www.gnu.org/copyleft/gpl.txt">
http://www.gnu.org/copyleft/gpl.txt </a>.
<br> For the initials of contributors, see ~abinit/doc/developers/contributors.txt .
</h5>

<HR ALIGN=left>
Goto :
<A href="http://www.abinit.org"><B>ABINIT home Page</B></A>
<B> | </B>
<A href="acknowledgments.html"><B>Suggested acknowledgments</B></A>
<B> | </B>
<A href="../input_variables/keyhr.html"><B>List of input variables</B></A>
<B> | </B>
<A "href="../tutorial/welcome.html"><B>Tutorial home page</B></A>
<B> | </B>
<A href="bibliography.html"><B>Bibliography</B></A>
<HR ALIGN=left>
Help files :
<A href="new_user_guide.html"><B>New user's guide</B></A>
<B> | </B>
<A href="abinis_help.html"><B>Abinis (main)</B></A>
<B> | </B>
<A href="respfn_help.html"><B>Abinis (respfn)</B></A>
<B> | </B>
<A href="mrgddb_help.html"><B>Mrgddb</B></A>
<B> | </B>
<A href="anaddb_help.html"><B>Anaddb</B></A>
<B> | </B>
<A href="aim_help.html"><B>AIM (Bader)</B></A>
<B> | </B>
<A href="cut3d_help.html"><B>Cut3D</B></A>
<B> | </B>
<A href="optic_help.html"><B>Optic</B></A>
<B> | </B>
<A href="mrgscr_help.html"><B>Mrgscr</B></A>
<HR ALIGN=left>


<h3><b>Contents of new user guide: </b></h3>
<ul>
<li><a href="new_user_guide.html#0">0.</a> Foreword 
<li><a href="new_user_guide.html#1">1.</a> Introduction 
<li><a href="new_user_guide.html#2">2.</a> The sequential version of ABINIT : abinis
<li><a href="new_user_guide.html#3">3.</a> Other programs in the ABINIT package.
<li><a href="new_user_guide.html#4">4.</a> Input variables to abinit.
<li><a href="new_user_guide.html#5">5.</a> Output files.
<li><a href="new_user_guide.html#6">6.</a> What does the code do?
</ul>

<HR ALIGN=left>

<p>
<a name="0">&nbsp;</a>
<h3><b>0. Foreword</b></h3>


<p>The ABINIT package is written by the ABINIT group.
<p>You will find the welcome message, and basic information about
the Web site in the <a href="http://www.abinit.org/about/?text=welcome">welcome address</a> .

<p>
Before reading the present file, you should get some theoretical background.
In case you have already used another electronic structure code, or a quantum
chemistry code, it might be sufficient to read the introduction of the paper
<cite>``Iterative minimization techniques for ab initio total-energy 
calculations: molecular dynamics and conjugate gradients''
M. C. Payne, M. P. Teter, D. C. Allan, T. A. Arias, and J. D. Joannopoulos,
Rev. Mod. Phys. 64, 1045-1097 (1992)</cite>.
If you have never used another electronic structure code
or a Quantum Chemistry package, you should browse through the Chaps. 1 to 13 , and appendices L and M
of the book <cite>Electronic Structure. Basic Theory and Practical Methods. R. M. Martin.
Cambridge University Press (2004) ISBN 0 521 78285 6.</cite>

<p>After having gone through this beginner's introduction, you should
follow the <a "href="../tutorial/welcome.html">tutorial</a>.

<p>&nbsp;</p>
<HR ALIGN=left>

<p><a name="1">&nbsp;</a> </p>
<h3><b>1. Introduction</b></h3>


 <p> ABINIT is a package whose main program allows
to find the total energy, charge density and electronic structure
of systems made of electrons and nuclei (molecules and periodic solids) 
within Density Functional Theory,
using pseudopotentials and a planewave basis, or
augmented plane waves, or even wavelets.
Some possibilities of ABINIT go beyond Density Functional Theory, i.e. the
many-body perturbation theory (GW approximation) and Time-Dependent Density Functional Theory.

ABINIT also includes options to optimize the geometry
according to the DFT forces and stresses, or to perform molecular dynamics
simulation using these forces, or to generate
dynamical (vibrations - phonons) properties, dielectric properties,
mechanical properties, thermodynamical properties, etc .
In addition to the main ABINIT code, 
different utility programs are provided.

 
<p> We will use the name ~abinit to refer to the directory that contains the ABINIT 
  package. In practice, a version number is appended to this name, to give for 
  example : abinit-5.3.3 . ~abinit contains different subdirectories. For example, 
  the present file, as well as other descriptive files, should be found in ~abinit/doc/users
  . Other subdirectories will be described later.
<p>&nbsp;
<HR ALIGN=left>
<p> <a name="2">&nbsp;</a> 
<h3><b>2. The sequential version of ABINIT : abinis . </b></h3>

 <p> The main code exists in a sequential version, 
with the name <b>abinis</b> (ABINIT sequential), and in
a parallel version, with the name <b>abinip</b> (ABINIT parallel). 
In the present new user's 
help file, we will suppose that the sequential version is used.
After installation, it is present in the package as ~abinit/src/main/abinis .

 <p> To run abinis you need four things:
<ul>
<li>(1) Access to the executable, abinis.
<li>(2) An input file.
<li>(3) A files file (list of file names in a file).
<li>(4) A pseudopotential input file for each kind of element in the unit cell.
</ul>
  With these items a job can be run.

 <p> The full list of input variables, all of which are provided in the
single input file, is given in the <a href="../input_variables/keyhr.html">ABINIT input variables file</a>.
<br>The detailed description of input variables is given in:
<ul>
<li> Basic variables, <A href="../input_variables/varbas.html">VARBAS</a></li>
<li> Developpement variables, <A href="../input_variables/vardev.html">VARDEV</a></li>
<li> Geometry builder + symmetry related variables, <A href="../input_variables/vargeo.html">VARGEO</a></li>
<li> Ground-state calculation variables, <A href="../input_variables/vargs.html">VARGS</a></li>
<li> GW variables, <A href="../input_variables/vargw.html">VARGW</a></li>
<li> Files handling variables, <A href="../input_variables/varfil.html">VARFIL</a></li>
<li> Parallelisation variables, <A href="../input_variables/varpar.html">VARPAR</a></li>
<li> Projector-Augmented Wave variables, <A href="../input_variables/varpaw.html">VARPAW</a></li>
<li> Response Function variables, <A href="../input_variables/varrf.html">VARRF</a></li>
<li> Structure optimization variables, <A href="../input_variables/varrlx.html">VARRLX</a></li>
</ul>
 
<p>
A set of examples aimed at guiding the beginner is available in the tutorial.
<p>Other test cases (more than 500 input files) can be found
in the ~abinit/test subdirectories, especially fast, v1, v2, v3, v4, v5.

<p> Many different sorts of pseudopotentials can be used with ABINIT. Most of 
  them can be found on the ABINIT web site. There is a set of Teter hardness-conserving 
  potentials, a set of Troullier-Martins potentials, a few Goedecker-Teter-Hutter 
  pseudopotentials, and Hartwigsen-Goedecker-Hutter potentials for the whole periodic 
  table. A subset of existing pseudopotentials are used for test cases, and are 
  located in the ~abinit/tests/Psps_for_tests directory. Information on pseudopotential 
  files can be found in the <a href="abinis_help.html#5">ABINIT help file</a> and 
  the ~abinit/doc/psp_infos directory.
<p>&nbsp;
<HR ALIGN=left>
<p> <a name="3">&nbsp;</a> 
<h3><b>3. Other programs in the ABINIT package.</b></h3>

 
<p> In addition to abinit, there are utility programs. <br>
  <b>mrgddb</b>, <b>anaddb</b>, <b>aim</b>, <b>conducti</b>, <b>optics</b>,
  <b>newsp</b>, <b>mrgscr</b>, and <b>cut3d</b> are present in the package.
<p> <b>mrgddb</b> and <b>anaddb</b> allow to post-process reponses to atomic displacements 
  and/or to homogeneous electric field, and/or to strain perturbation,
  as generated by abinit, to produce full 
  phonon band structures, thermodynamical functions, piezoelectric properties,
  superconducting properties, to name a few. "mrgddb" is for
  "Merge of Derivative DataBases", while "anaddb" is for "Analysis of Derivative DataBases".
<p> Another utility is <b>newsp</b>, whose main routine source is called newsp.F90. 
  It allows a crude interpolation among the wavefunctions at different k points 
  and is useful in reformatting wavefunction files to restart jobs on either new 
  unit cell geometries, new planewave cutoffs, or new k point grids. Most of its 
  capabilities have been transferred a few uyears ago inside abinit, however. 
<p> <b>cut3d</b> can be used to post-process the three-dimensional
  density (or potential) files generated by abinit. It allows to deduce charge
  density in selected planes (for isodensity plots), along selected lines, or
  at selected points. It allows also to make the Hirshfeld
  decomposition of the charge density in "atomic" contributions.
<p> <b>aim</b> is also a post-processor of the three-dimensional
  density files generated by abinit. It performs the Bader Atom-In-Molecule
  decomposition of the charge density in "atomic" contributions.
<p> <b>conducti</b> allows to compute the frequency-dependent
  optical conductivity.
<p> At the level of graphics, many commercial or free softwares can be used to 
  visualize ABINIT outputs. Some indications are contained in the 
  ~abinit/doc/tutorial/lesson_visual.txt 
  file, but this topics has not yet been the subject of a systematic help file.
<p>&nbsp;
<HR ALIGN=left>
<p> <a name="4">&nbsp;</a> 
<h3><b>4. Input variables to abinit.</b></h3>


<p> The ABINIT help file describes 
the input variables and the output file.  
As an overview, the most important input variables are listed below:
<pre>
<a href="../input_variables/varbas.html#acell" target="kwimg">acell</a>(3)        lattice constant of periodic cell in Bohr.
<a href="../input_variables/vargs.html#diemac" target="kwimg">diemac</a>          gives an indicative macroscopic dielectric constant, to ease convergence 
                (use 2.0 for atoms and small molecules; for small solid states systems, the default should be OK)
<a href="../input_variables/varbas.html#ecut" target="kwimg">ecut</a>            planewave kinetic energy cutoff in Hartree 
<a href="../input_variables/varrlx.html#ionmov" target="kwimg">ionmov</a>          when <a href="../input_variables/varrlx.html#ionmov" target="kwimg">ionmov</a> = 0 : the ions and cell shape are fixed
                            = 2 : search for the equilibrium geometry
                            = 6 : molecular dynamics
<a href="../input_variables/varbas.html#iscf" target="kwimg">iscf</a>            either a positive number for defining self-consistent 
                algorithm (usual), or -2 for band structure in fixed potential
<a href="../input_variables/varbas.html#kptopt" target="kwimg">kptopt</a>          option for specifying the k-point grid 
                if <a href="../input_variables/varbas.html#kptopt" target="kwimg">kptopt</a>=1, automatic generation, using ngkpt and shiftk.
                (for the latter, see the <a href="abinis_help.html">abinis_help</a> file)
<a href="../input_variables/varbas.html#natom" target="kwimg">natom</a>           total number of atoms in unit cell
<a href="../input_variables/varbas.html#ngkpt" target="kwimg">ngkpt</a>(3)        dimensions of the three-dimensional grid of k-points
<a href="../input_variables/varbas.html#nstep" target="kwimg">nstep</a>           maximal number of self-consistent cycles (on the order of 20)
<a href="../input_variables/varrlx.html#ntime" target="kwimg">ntime</a>           number of molecular dynamics or relaxation steps
<a href="../input_variables/varbas.html#ntypat" target="kwimg">ntypat</a>          number of types of atoms
<a href="../input_variables/varbas.html#occopt" target="kwimg">occopt</a>          set the occupation of electronic levels : 
                 =1 for semiconductors
                 =3 ... 7  for metals
<a href="../input_variables/varbas.html#optdriver" target="kwimg">optdriver</a>       when == 3 and 4 : will do GW calculations (many-body perturbation theory)
<a href="../input_variables/varrf.html#rfelfd" target="kwimg">rfelfd</a>          when /= 0 : will do response calculation to electric field
<a href="../input_variables/varrf.html#rfphon" target="kwimg">rfphon</a>          when = 1 : will do response calculation to atomic displacements
<a href="../input_variables/varbas.html#rprim" target="kwimg">rprim</a>(3,3)      dimensionless primitive translations of periodic cell;
                each COLUMN of this array is one primitive translation
<a href="../input_variables/varbas.html#typat" target="kwimg">typat</a>(<a href="../input_variables/varbas.html#natom" target="kwimg">natom</a>)     sequence of integers, specifying the type of each atom.
                NOTE: the atomic coordinates (<a href="../input_variables/varbas.html#xangst" target="kwimg">xangst</a>, <a href="../input_variables/varbas.html#xcart" target="kwimg">xcart</a> or <a href="../input_variables/varbas.html#xred" target="kwimg">xred</a>) 
                must be specified in the same order
<a href="../input_variables/varrlx.html#tolmxf" target="kwimg">tolmxf</a>          force tolerance for structural relaxation in Hartree/Bohr
<a href="../input_variables/varbas.html#tolvrs" target="kwimg">tolvrs</a>          tolerance on self-consistent convergence 
<a href="../input_variables/varbas.html#xangst" target="kwimg">xangst</a>(3,<a href="../input_variables/varbas.html#natom" target="kwimg">natom</a>)  cartesian coordinates (Angstrom) of atoms in unit cell
                NOTE: only used when "<a href="../input_variables/varbas.html#xred" target="kwimg">xred</a>" and "<a href="../input_variables/varbas.html#xcart" target="kwimg">xcart</a>" are absent
<a href="../input_variables/varbas.html#xcart" target="kwimg">xcart</a>(3,<a href="../input_variables/varbas.html#natom" target="kwimg">natom</a>)  cartesian coordinates (Bohr) of atoms in unit cell
                NOTE: only used when "<a href="../input_variables/varbas.html#xred" target="kwimg">xred</a>" and "<a href="../input_variables/varbas.html#xangst" target="kwimg">xangst</a>" are absent
<a href="../input_variables/varbas.html#xred" target="kwimg">xred</a>(3,<a href="../input_variables/varbas.html#natom" target="kwimg">natom</a>)   fractional coordinates for atomic locations;
                NOTE: leave out if <a href="../input_variables/varbas.html#xangst" target="kwimg">xangst</a> or <a href="../input_variables/varbas.html#xcart" target="kwimg">xcart</a> is used
<a href="../input_variables/varbas.html#znucl" target="kwimg">znucl</a>(<a href="../input_variables/varbas.html#ntypat" target="kwimg">ntypat</a>)   Nuclear charge of each type of element; must agree with 
                nuclear charge found in psp file.

</pre>

<p>&nbsp;
<HR ALIGN=left>
<a name="5">&nbsp;</a>
<h3><b> 5. Output files.</b></h3>

 <p> Output from an abinis run shows up in several files and 
in the standard output.  Usually one runs the command with 
a pipe of standard output to a log file, which can
be inspected for warnings or error messages if anything goes wrong or otherwise
can be discarded at the end of a run.  The more easily readable formatted
output goes to the output file whose name is given in the "files" file, i.e. 
you provide the name of the formatted output file. No error
message is reported in the latter file. On the other hand, this is
the file that is usually kept for archival purposes.

<p>In addition, wavefunctions can be input (starting point) or output (result
of the calculation),
and possibly, charge density and/or electrostatic potential, if they
have been asked for. These three sets of data are stored in unformatted files.
<br>The Density Of States (DOS) can also be an output as 
a formatted (readable) file.
<br>An analysis of geometry can also be provided (GEO file)
<br>The name of these files is constructed from a "root" name, that must be
different for input files and output files, and that is provided
by the user, to which the code will append a descriptor, like
WFK for wavefunctions, DEN for the density, POT for the potential,
DOS for the density of states ...

<p>There are also different temporary files. A "root" name
should be provided by the user, from which the code generates
a full name. Amongst these files, there is a "status" file, 
summarizing the current status of advancement of the code,
in long jobs. ABINIT <a href="abinis_help.html">abinis_help</a> contains more details.

<p>&nbsp;

<HR ALIGN=left>
<a name="6">&nbsp;</a>
<h3><b> 6. What does the code do?</b></h3>

 <p> The simplest sort of job computes an electronic structure for a fixed set
of atomic positions within a periodic unit cell.  By electronic structure , we
mean a set of eigenvalues and wavefunctions which achieve the lowest (DFT)
energy possible for that basis set (that number of planewaves).  The code
takes the description of the unit cell and atomic positions and assembles
a crystal potential from the input atomic pseudopotentials, then uses
either an input wavefunction or simple gaussians to generate the
initial charge density and screening potential, then uses a self-consistent
algorithm to iteratively adjust the planewave coefficients
until a sufficient convergence is reached in the energy.
 <p> Analytic derivatives of the energy with respect to atomic positions and
unit cell primitive translations yield atomic forces and the stress tensor.
The code can optionally adjust atomic positions to move the forces toward
zero and adjust unit cell parameters to move toward zero stress.  
It can performs molecular dynamics. It can also be used to find responses
to atomic displacements and homogeneous electric field, so that
the full phonon band structure can be constructed...

 
<p> In order to know more about ABINIT, please follow the <a "href="../tutorial/welcome.html">Tutorial</a> 

<HR ALIGN=left>
Goto :
<A href="http://www.abinit.org"><B>ABINIT home Page</B></A>
<B> | </B>
<A href="acknowledgments.html"><B>Suggested acknowledgments</B></A>
<B> | </B>
<A href="../input_variables/keyhr.html"><B>List of input variables</B></A>
<B> | </B>
<A "href="../tutorial/welcome.html"><B>Tutorial home page</B></A>
<B> | </B>
<A href="bibliography.html"><B>Bibliography</B></A>
<HR ALIGN=left>
Help files :
<A href="new_user_guide.html"><B>New user's guide</B></A>
<B> | </B>
<A href="abinis_help.html"><B>Abinis (main)</B></A>
<B> | </B>
<A href="respfn_help.html"><B>Abinis (respfn)</B></A>
<B> | </B>
<A href="mrgddb_help.html"><B>Mrgddb</B></A>
<B> | </B>
<A href="anaddb_help.html"><B>Anaddb</B></A>
<B> | </B>
<A href="aim_help.html"><B>AIM (Bader)</B></A>
<B> | </B>
<A href="cut3d_help.html"><B>Cut3D</B></A>
<B> | </B>
<A href="optic_help.html"><B>Optic</B></A>
<B> | </B>
<A href="mrgscr_help.html"><B>Mrgscr</B></A>
<HR ALIGN=left>

</body>
</html>
